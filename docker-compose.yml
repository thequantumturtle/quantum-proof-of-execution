services:
  qiskit:
    image: quantum-proof-of-execution:dev
    working_dir: /app
    command: >
      sh -c "python scripts/make_record.py --framework qiskit --n-qubits 4 --depth 10 --seed 123 --shots 2000 --out /tmp/qiskit.json
      && python scripts/verify_record.py /tmp/qiskit.json
      && python scripts/hash_record.py /tmp/qiskit.json"

  cirq:
    image: quantum-proof-of-execution:dev
    working_dir: /app
    command: >
      sh -c "python scripts/make_record.py --framework cirq --n-qubits 4 --depth 10 --seed 123 --shots 2000 --out /tmp/cirq.json
      && python scripts/verify_record.py /tmp/cirq.json
      && python scripts/hash_record.py /tmp/cirq.json"
